<!--
https://www.jotform.com/blog/html5-screen-orientation-api-uses-javascript-to-rotate-the-screen-89639/
-->
<!-- 4 valeurs :
“portrait-primary”, “portrait-secondary”,
“landscape-primary”, “landscape-secondary”
-->



<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="mobile.css">

        <style>

            @media only screen and (orientation: portrait) {
              body {
                background-color: DeepPink;
              }
            }

            @media only screen and (orientation: landscape) {
              body {
                background-color: Blue;
              }
            }

        </style>
    </head>

    <body>
        <p id="resultat">orientation = </p>
        <button type="button" id="bouton">ok</button>

        <script>
            var resultat = document.getElementById("resultat");
            var bouton = document.getElementById("bouton");

            function getOrientation() {
                console.log(screen.orientation.type);
                resultat.innerHTML = screen.orientation.type;
                if(screen.orientation.type == "portrait"){
                    bouton.innerHTML = "paysage";
                } else {
                    bouton.innerHTML = "portrait";
                }
            }
            getOrientation();

            bouton.addEventListener("click", function() {
                    <!-- NE FONCTIONNE PAS
                        document.documentElement.requestFullScreen();
                    screen.orientation.lock("portrait-primary"); -->
                    console.log("click = "+screen.orientation.type);
                }, false);

            window.addEventListener("orientationchange", function(event) {
                console.log("change = "+event.target.screen.orientation.type);
            });

        </script>
    </body>

</html>
